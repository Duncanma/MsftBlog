// stylelint-disable property-blacklist, declaration-no-important

// Create placeholders to be referenced
@each $shade, $hex in $grays {
  %bg-gray-#{$shade} {
    @include bg-variant($hex, true);
  }
}

@each $name, $hex in $mwf-colors {
  %bg-#{$name} {
    @include bg-variant($hex, true);
  }
}

@each $shade, $hex in $grays {
  .bg-gray-#{$shade} {
    @extend %bg-gray-#{$shade};
  }
}

@each $name, $hex in $mwf-colors {
  .bg-#{$name} {
    @extend %bg-#{$name};
  }
}

// Define classes to use placeholders
@each $name, $hex in $mwf-theme-neutrals {
  .bg-neutral-#{$name} {
    @include extend-color-variant($hex, "bg");

    @include theme-inverse {
      @include extend-color-variant(mwf-theme-color($theme-inverse, $name), "bg");
    }
  }
}

@each $name, $hex in $mwf-theme-colors {
  .bg-#{$name} {
    @include extend-color-variant($hex, "bg");

    @include theme-inverse {
      @include extend-color-variant(mwf-theme-color($theme-inverse, $name), "bg");
    }
  }
}

// Compliment to .text-body
.bg-body {
  @include bg-variant($body-bg, true);

  @include theme-inverse {
    @include bg-variant($body-bg-inverse, true);
  }
}

// Transparent backgrounds
@each $breakpoint in map-keys($grid-breakpoints) {
  @include media-breakpoint-up($breakpoint) {
    $infix: breakpoint-infix($breakpoint, $grid-breakpoints);

    .bg#{$infix}-transparent,
    .bg#{$infix}-transparent-text-dark,
    .bg#{$infix}-transparent-text-light {
      background-color: transparent !important;
    }

    .bg#{$infix}-transparent-text-dark {
      color: $yiq-text-dark !important;
    }

    .bg#{$infix}-transparent-text-light {
      color: $yiq-text-light !important;
    }

    // make sure link colors shift with text color
    .bg#{$infix}-transparent-text-dark,
    .bg#{$infix}-transparent-text-light {
      a:not(.btn) {
        color: inherit;
      }
    }

    @media screen and (-ms-high-contrast: active) {
      .bg#{$infix}-transparent,
      .bg#{$infix}-transparent-text-dark,
      .bg#{$infix}-transparent-text-light {
        background-color: window !important;
        color: windowText !important;
      }
    }
  }
}
