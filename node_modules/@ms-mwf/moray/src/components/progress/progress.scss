@import "../../styles/functions";
@import "../../variables";
@import "../../styles/mixins";

.progress {
  display: flex;
  //min-height: $progress-height + ($progress-bar-border-width * 2);
  min-height: $progress-height + ($progress-bar-border-width * 2 + $progress-border-width * 2);
  overflow: hidden; // force rounded corners by cropping it
  border-radius: $progress-border-radius;
  border-style: solid;
  border-width: $progress-border-width;
  padding: $progress-bar-border-width;

  background-color: $progress-bg;
  border-color: $progress-border-color;

  @include theme-inverse {
    background-color: $progress-bg-inverse;
    border-color: $progress-border-color-inverse;
  }
}

.progress-bar {
  display: flex;
  position: relative;
  flex-direction: column;
  justify-content: center;
  min-height: $progress-height; // ie11 flexbox height workaround
  text-align: center;
  white-space: nowrap;
  // Use outline to show progress bar for Firefox and other browsers that minimally support HCM
  outline: $progress-bar-outline-width solid transparent;
  outline-offset: $progress-bar-outline-offset;
  @include transition($progress-bar-transition);

  background-color: $progress-bar-bg;
  color: $progress-bar-color;

  @include theme-inverse {
    background-color: $progress-bar-bg-inverse;
    color: $progress-bar-color-inverse;
  }

  @include ltr {
    margin-left: $progress-bar-border-width;
  }
  @include rtl {
    margin-right: $progress-bar-border-width;
  }

  &:first-of-type {
    @include ltr {
      margin-left: 0;
    }
    @include rtl {
      margin-right: 0;
    }
  }

  // For IE11 High Contrast Mode, make the background color the same as the outline color
  // Outline-offset is not supported in IE11, therefore the outline is not enough to visually distingish the progress bar in HCM
  @media screen and (-ms-high-contrast: active) {
    // When the outline's color is set to transparent, HCM overrides it to be the text color instead
    // This makes  the background and outline the same color for less visual noise
    background-color: currentColor;
  }
}

.progress-bar-striped {
  @include gradient-striped;
  background-size: $progress-height $progress-height;
}
