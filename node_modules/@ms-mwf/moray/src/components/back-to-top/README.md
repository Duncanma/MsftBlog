Back to Top is an element that consists of a button that allows one to go back to the top of a selected element. There should be only one of these components per page.

## HTML structure

```html
<!-- Main Item -->
<div class="back-to-top p-g d-flex justify-content-end" data-mount="back-to-top">
    <!-- Link -->
    <a href="#page-top" class="btn btn-faint-secondary bg-body text-center w-sm-auto w-100">
      <!-- Link Content -->
      <span class="glyph-prepend glyph-prepend-xsmall glyph-prepend-up d-inline-flex">Back to top</span>
    </a>
</div>
```

## Main Item

### Required properties

| Property        | Value                 | Description |
|-----------------|-----------------------|-------------|
| class           | `back-to-top p-g d-flex justify-content-end` | Applies style and positioning |
| data-mount      | `back-to-top`         | Auto-initializes the Javascript for the component |

## Link

### Required properties

| Property        | Value                       | Description |
|-----------------|-----------------------------|-------------|
| href            | hash                        | `#` referencing the ID of an element at the top of the page. See below for further explanation. |
| class           | `btn btn-faint-secondary bg-body text-center w-sm-auto w-100` | Applies style to the link item |

### Notes

- **Do not** use `#` or `#top` since neither redirect keyboard focus but scroll only.
- **Do not** place the ID on the `<body>` element, as it causes buggy behavior. Instead, link to one of the page's first elements _before navigation links and content_ in order to redirect scroll and keyboard focus there.

During JavaScript initialization, Back to Top will perform the following logic to ensure the `tabindex` is also set appropriately on the targeted element:

1. If the url fragment is valid (if the ID is found), it will check if it is _not_ a focusable element (like `button`)
2. If not a focusable element:
   1. If it has a non-existant `tabindex`, set it to `-1`

## Link Content

### Required properties

| Property | Value                 | Description |
|----------|-----------------------|-------------|
| class    | `glyph-prepend glyph-prepend-xsmall glyph-prepend-up d-inline-flex` | Applies glyph to link content at 13px sizing and centering |

## JavaScript Usage

### Auto-initialization

Adding `data-mount=back-to-top` to the element will auto-initialize the component on page load.

### Manual Initialization

To initialize a Back to Top via JavaScript, create a new instance by passing in the reference to the element using the `el` option.

```js
backToTop = new mwf.BackToTop({
  el: document.querySelector('backToTopElement')
});
```

#### Options

| Name            | Type        | Required | Default | Description |
|-----------------|-------------|----------|---------|-------------|
| el              | Node        | yes      | null    | The Back to Top element |
| offsetMarginTop | number      | no       | null    | Offset in pixels from top of page where Back to Top should begin to be sticky. Note that this is overwritten in the default onWindowResize handler. |
| onScroll        | Function    | no       | null    | Function to override the scroll event handler |
| onWindowResize  | Function    | no       | null    | Function to override the window resize event handler |


### Events

| Event name | Event target    | Description |
|------------|-----------------|-------------|
| onRemove   | instance.el     | Dispatches when the instance is removed. |
| onUpdate   | instance.el     | Dispatches when the instance is updated. |

Since Back to Top implements Sticky, it also dispatches the custom events described in the [Sticky documentation]({{ internalLink '/components/detail/sticky' }}).

### Instance methods

#### update()

Updates the Back to Top instance.

##### Options

| Name            | Type        | Required | Default | Description |
|-----------------|-------------|----------|---------|-------------|
| offsetMarginTop | number      | no       | null    | Offset in pixels from top of page where Back to Top should begin to be sticky. Note that this is overwritten in the default onWindowResize handler. |
| onScroll        | Function    | no       | null    | Function to override the scroll event handler |
| onWindowResize  | Function    | no       | null    | Function to override the window resize event handler |

#### remove()

Removes all event listeners, observers, and references to the Back to Top instance.

### Static Methods

#### getInstances()

Returns an array of Back to Top instances

| Returns | Description |
|---------|-------------|
| array   | An array of Back to Top instances |
