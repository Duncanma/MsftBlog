The Hotspot is a stylized circular `<button>` that is designed to be placed over an image to make it interactive.

## Responsiveness

The Hotspot changes size depending on the viewport's width. If the viewport is at least `860px` wide, corresponding the `md` (medium) viewport size, the Hotspot will have the large diameter listed in the following table; otherwise, it will have the small diameter. Note that in the table below, the given diameter does include the borders.

| Size      | Size modifier class   | Small diameter    | Large diameter    |
|-----------|-----------------------|-------------------|-------------------|
| Small     | `hotspot-sm`          | `24px`            | `36px`            |
| Medium    | _(None)_              | `36px`            | `48px`            |
| Large     | `hotspot-lg`          | `48px`            | `64px`            |

## Style

In order to preserve the intended styles and accessibility, the Hotspot must always be a `<button>` element. Note that it's a rather small circle, so very little text will fit. So, making use of either `aria-label` or `aria-labelledby` is vital in order to be accessible. Also, a descriptive `title` attribute should be used to give it a label on hover.

Since it is intended to be used as a overlay, by default the Hotspot is absolutely positioned in the center of its positioning context. Also, when positioning the Hotspot, use `top` and `left` only. The Hotspot has been specially transformed so that `top` and `left` will be calculated from the center of the hotspot, rather than the upper left corner.

The Visual Focus Indicator for the Hotspot has been implement as a black and white dotted double outline (one inside the other) so that at least one outline always shows up with good contrast against its background.

### Modifier classes

Every Hotspot must have the `hotspot` class, but several custom variants can be specified using the following namespaced modifier classes. At most only one size class and one color class should be used at a time

These size classes change the size of the hotspot:

| Size      | Size modifier class   | Small diameter    | Large diameter    |
|-----------|-----------------------|-------------------|-------------------|
| Small     | `hotspot-sm`          | `24px`            | `36px`            |
| Medium    | _(None)_              | `36px`            | `48px`            |
| Large     | `hotspot-lg`          | `48px`            | `64px`            |

Note that the Small size can start to make even a single character feel crowded, so it is best suited for a textless Hotspot

These color classes define the background color of the Hotspot based on [Theme](https://moray-prod.azurewebsites.net/components/detail/theme--dark.html) colors. Regardless of theme, the border and text colors are automatically computed so that it passes accessibility standards for color contrast. Whereas standard hotspots have a thick border to set it apart from its background, color classes with the `minimalist` infix make the background and border color the same (they are intended to be used as simple dots without text, glyphs, or other content).

| Class                             | Description                                                 |
|-----------------------------------|-------------------------------------------------------------|
| `hotspot-primary`                 | Sets the background color to the `primary` theme color      |
| `hotspot-primary-alt`             | Sets the background color to the `primary-alt` theme color  |
| `hotspot-light`                   | Sets the background color to the `light` theme color        |
| `hotspot-dark`                    | Sets the background color to the `dark` theme color         |
| `hotspot-minimalist-primary`      | Sets the background color to the `primary` theme color      |
| `hotspot-minimalist-primary-alt`  | Sets the background color to the `primary-alt` theme color  |
| `hotspot-minimalist-light`        | Sets the background color to the `light` theme color        |
| `hotspot-minimalist-dark`         | Sets the background color to the `dark` theme color         |


These additional classes can be used in certain special situations. It is recommended to use the `hotspot-hover-ripple` class to improve the discoverability of the Hotspots. The `hotspot-extra-border` class can be used in particular with the minimalist Hotspots where there may be concerns about ensuring color contrast. The `hotspot-large-glyph` should only be used in conjunction with the `hotspot-lg` class, in order to have a single glyph take up the whole hotspot.

| Class                             | Description                                                 |
|-----------------------------------|-------------------------------------------------------------|
| `hotspot-hover-ripple`            | Adds a ripple animation triggered on hover                  |
| `hotspot-extra-border`            | Adds a `1px solid` border of a contrasting color            |
| `hotspot-large-glyph`             | Increases the `font-size` of glyphs to `2em`                |

### Supporting components

The Hotspot makes use of both the `::before` and `::after` pseudo-elements, so it's vital when using a [Glyph](https://moray-prod.azurewebsites.net/components/detail/glyphs--glyphs.html) that it be placed in the Hotspot in its own `<span>`, for example:

```html
<button class="hotspot hotspot-primary hotspot-lg" aria-label="Placeholder for explicit label">
  <span class="glyph-prepend glyph-prepend-camera"></span>
</button>
```

Images can also be used as the main content of the hotspot. It is recommended to use a square image with a height and width matching the diameter of the hotspot for best compatibility with older browsers. It is required to use the `hotspot-img` and `img-fluid` classes, and to only use a standard `<img>` element (not a `<picture>` element), for example:

```html
<button class="hotspot hotspot-minimalist hotspot-lg" aria-label="Placeholder for explicit label">
  <img src="https://your-image-url.png" class="hotspot-img img-fluid" alt="placeholder text for image">
</button>
```

Note that in the example above there are two accessible labels present. In this case the `aria-label` on the `<button>` describes what the `<button>` _does_ while the `alt` text on the `<img>` describes what the `<img>` _is_.

## Behavior

There are two behaviors to be aware of where the Hotspot changes visually. The first is its "active" state. This is triggered when the `<button>` element has either `aria-pressed="true"`, `aria-expanded="true"`, or the class `hotspot-active` on it. When it is active, an additional semi-transparent border extends out from the edge of the Hotspot. Not that this "active" state is different than the `:active` state, which is when a button is being pressed by a user (e.g. between mousedown and mouseup).

The second behavior is the `:hover` animation added by the `hotspot-ripple-hover` modifier class. When a mouse user hovers over a hotspot, a semi-transparent border fans out from the edge of the Hotspot and then disappears. If a user has indicated a preference for reduced motion in their system settings, this animation is turned off. This behavior can also be triggered manually, for example, in cases where a Hotspot is added to the DOM in response to user action and it's advisable to draw attention to the Hotspot. To do this, after the Hotspot is visible, add the class `ripple-once` to the hotspot via JavaScript. **However**, due to the way CSS animations work, this will disable the animation on hover, so be sure to remove the class afterwards.

 For example:

```js
function rippleOnce(element) {
  element.classList.add('ripple-once');

  setTimeout(function() {element.classList.remove('ripple-once')}, 800);
}

rippleOnce(document.querySelector('#my-new-hotspot'));
```

If this effect needs to be repeated for some reason, simply remove the class and add it back.
