{{setVar "skip-id" (evaluate skip-id '||' (uid))}}
{{setVar "previous-id" (evaluate previous-id '||' (uid))}}
{{setVar "status-container-id" (evaluate status-container-id '||' (uid))}}
{{setProp skip-link 'classes' (evaluate skip-link.classes '||' 'sr-only-focusable w-100 position-absolute')}}
{{setProp skip-link 'link' (evaluate skip-link.link '||' (object))}}
{{setProp skip-link.link 'href' (math '#' '+' (getVar 'skip-id'))}}

<section aria-label="{{aria-label}}" aria-roledescription="{{aria-roledescription}}">
  {{#> header-partial}}
    {{#if status}}
      <div id="{{getVar 'status-container-id'}}">
        <span id="{{status.sr-element-id}}" class="sr-only" aria-live="polite">{{status.sr-text}}</span>
      </div>
    {{/if}}
  {{/header-partial}}

  <div class="carousel slide {{classes}}" data-mount="carousel" {{#if no-loop}}data-loop="false"{{/if}} {{#if status}}data-status="{{getVar 'status-container-id'}}"{{/if}}>
    {{render '@button--link' skip-link merge=true}}
    <div>
      <div class="carousel-controls">
        <button type="button" class="carousel-control-prev {{control-classes}}" data-slide="prev" {{#if no-loop}}disabled{{/if}}>
          <span class="sr-only">{{previous-label}}</span>
        </button>

      {{#unless no-indicators}}
        <ol class="carousel-indicators" aria-hidden="true">
          {{#each slides}}
            <li {{#if @first}}class="active"{{/if}}></li>
          {{/each}}
        </ol>
      {{/unless}}

        <button type="button" class="carousel-control-next {{control-classes}}" data-slide="next">
          <span class="sr-only">{{next-label}}</span>
        </button>
      </div>

      <div class="carousel-inner">
        {{#each slides}}
          <section class="carousel-item {{classes}} {{#if @first}}active{{/if}}" {{#if @first}}tabindex="0"{{else}}aria-hidden="true"{{/if}} {{#if aria-label}}aria-label="{{aria-label}}"{{else}}aria-labelledby="{{aria-labelledby}}"{{/if}} aria-roledescription="{{aria-roledescription}}">
            {{#if slide-content}}
              {{{slide-content}}}
            {{else}}
              {{> @partial-block }}
            {{/if}}
          </section>
        {{/each}}
      </div>
    </div>
    {{#if back-to-controls}}
      {{render '@button--link' back-to-controls merge=true}}
    {{/if}}
  </div>
</section>

<a id="{{getVar 'skip-id'}}" class="sr-only" tabindex="-1">{{skip-end-text}}</a>
