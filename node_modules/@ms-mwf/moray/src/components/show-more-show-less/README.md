Show More/Show Less components show/hide additional content. Show More/Show Less components can display simple blocks of text or a complex grouping of HTML elements.

## Style

The component is composed of a containing element, visible content, ellipsis (mandatory for text content), toggleable content, and a toggling element.

```html
<div class="show-more-show-less" data-mount="show-more-show-less">
  <div>
    <!--visible content-->
    ...
    <!--ellipsis (mandatory for text content)-->
    <span class="show-more-show-less-ellipsis">...</span>
    <!--toggleable content-->
    <span id="toggle-content-01" class="show-more-show-less-toggleable-content" tabindex="-1">
    ...
    </span>
  </div>
  <!--toggle element-->
  <button class="action-trigger show-more-show-less-toggle">
    Show more
  </button>
</div>
```

### Show More/Show Less (multi element)

Show More/Show Less (multi element) components are used to show/hide inline-block elements. This multi element variation differs from the base component in two ways. The first is by applying a `data-count` attribute on the parent element. The value of which will determine the amount of visible content on page load. The second is by wrapping both the visible and toggeable elements in a content container with the proper `id` and `class` names.

```html
<div class="show-more-show-less" data-mount="show-more-show-less" data-count="2">
  <!--content container-->
  <div id="toggle-content-01" class="show-more-show-less-toggleable-content">
    <!--visible content-->
      ...
    <!--toggleable content-->
      ...
  </div>
  <!--toggle element-->
  <button
    class="action-trigger show-more-show-less-toggle">
    Show more
  </button>
</div>
```

Parent element that contains all Show More/Show Less child elements.

| Class | Required | Description |
| ---------- | ---------- | ------------------------------------------- |
| `show-more-show-less` | yes | Applies styling. |

### Content container (multi element)

This is the wrapping element that contains visible and toggleable content.

```html
  <!--content container-->
  <div id="toggle-content-01" class="show-more-show-less-toggleable-content">
    <!--visible content-->
    ...
    <!--toggleable content-->
    ...
  </div>
```

| Class | Required | Description |
| ---------- | ---------- | ------------------------------------------- |
| `show-more-show-less-toggleable-content` | yes | Applies styling. |

### Visible content

The content that remains visible.

> Note: `<p>` or `<div>` tags should be used when the toggleable text element is in a separate text block from the visible text element. A `<span>` tag should be used when the toggleable text is in the same text block as the visible text.

### Ellipsis (mandatory for text content)

Ellipses are decorative elements meant to visually separate visible text from toggleable text.

| Class | Required | Description |
| ---------- | ---------- |------------------------------------------- |
| `show-more-show-less-ellipsis` | yes | Applies styling. |

### Toggleable content (base component)

This is the content that will be shown or hidden when the toggle is pressed.

```html
  <!--toggleable content-->
  <span id="toggle-content-01" class="show-more-show-less-toggleable-content" tabindex="-1">
    ...
  </span>
```

| Class | Required | Description |
| ---------- | ---------- | ------------------------------------------- |
| `show-more-show-less-toggleable-content` | yes | Applies styling. |

### Toggle element

The Show More/Show Less components makes use of the [Action Trigger component](https://mwf.azurewebsites.net/catalog/action-trigger/index.html).

### Utility classes

| Utility | Example | Description | Documentation
| ---------- | ---------- | ---------- | ------------------------------------------- |
| Display | `d-none` | Sets an elements display property to none.  | [Display utility docs](https://moray-prod.azurewebsites.net/components/detail/utilities-display--display.html)

### Supporting components

The [Action Trigger component](https://mwf.azurewebsites.net/catalog/action-trigger/index.html) is used in conjunction with the Show More/Show Less component in order to visibly display or hide the toggleable content. When the toggleable element is engaged the toggleable content will either have the utility class `d-none` applied or removed.

## Behavior

When the toggle element is pressed (by keyboard or mouse), the toggleable content is toggled. If a ellipsis (mandatory for text content) is being used the class `d-none` will be applied. The class `d-none` will be removed from the toggleable content and its `tabindex` property will be set to 0. The toggle element will have its `aria-expanded` value updated to show current status of the toggleable content along with the `aria-label`, and innerHTML text strings.

### Content container

| Property   | Value | Required | Description |
| ---------- | --------------------- | ---------- | ------------------------------------------- |
| `id` | a unique identifier | yes | Value for toggle's `aria-controls` prop. |

### Toggleable content

| Property   | Value | Required | Description |
| ---------- | --------------------- | ---------- | ------------------------------------------- |
| `tabindex` | `-1` | yes | Allows the toggleable content to receive keyboard focus when it is revealed. |

### Toggleable element

| Property   | Value | Required | Description |
| ---------- | --------------------- | ---------- | ------------------------------------------- |
| `type` | button | yes | Required for Assistive Technology. |
| `class` | `show-more-show-less-toggle` | yes | Sets the element as the control for toggling the Show More/Show Less. |
| `aria-expanded` | boolean | yes | Defaults to a value of "false" and toggling to "true" when the content is expanded. |
| `aria-controls` | a unique identifier | yes | Value for toggleable content's `id` prop.                             |
| `data-show-less-text` | Show less | yes | Value for toggle button's text when toggled. **This value must be localized.** |
| `aria-label` | a plain string | no* | Text describing the toggle-open action. **This value must be localized.**  |
| `data-alternate-aria-label` | a plain string | no* | Text describing the toggle-close action. **This value must be localized.** |

\* **If the toggle text does not adequately describe the purpose of the toggle, an `aria-label` attribute must be provided. If an `aria-label` is provided a `data-alternate-aria-label` is also required.**

## JavaScript usage

### Initialization

Adding `data-mount="show-more-show-less"` to the Show More/Show Less container element will auto-initialize the Show More/Show Less on page load.

### Parent element

| Property   | Value | Required | Description |
| ---------- | --------------------- | ---------- | ------------------------------------------- |
| `data-mount` | `show-more-show-less` | yes* | Enables auto-initialization for JavaScript. |

\* **Attribute is required if using the auto-initialization method only. data- attributes are not recommended for use otherwise and may result in unexpected behavior.**

### Parent element (multi element)

| Property   | Value | Required | Description |
| ---------- | --------------------- | ---------- | ------------------------------------------- |
| `data-count` | number | yes | Sets the number of elements that should be visible. |

> Note: Every immediate child of the content container is tracked by the toggle's `data-count` attribute. Children that are less than the `data-count` value will be visible, children that are greater than or equal to the `data-count` value will be toggleable.

To initialize a Show More/Show Less via JavaScript, create a new instance by calling the `ShowMoreShowLess` constructor and passing in the ID of the Show More/Show Less container element using the `el` option.

```js
myShowMoreShowLessSingleElement = new mwf.ShowMoreShowLess({
  el: document.querySelector('#showMoreShowLessId')
});
```

### Events

| Event name | Event target             | Description                                              |
| ---------- | ------------------------ | -------------------------------------------------------- |
| `onHide`     | *instance*.`control` | Dispatches when the toggleable content becomes hidden.   |
| `onRemove`  | *instance*.`control` | Dispatches when Show More/Show Less is removed.          |
| `onShow`     | *instance*.`control` | Dispatches when the toggleable content becomes shown.    |
| `onUpdate`   | *instance*.`el` (multi-elem) | Dispatches when instance updates its toggleable content. |

### Static Methods

#### getInstances()

Returns a list of all Show More/Show Less instances.

| Returns | Description                                                 |
| ------- | ----------------------------------------------------------- |
| `Array`   | An array of all current instantiated Show More/Show Less components. |

### Instance Methods

#### hide()

Hides the toggleable content.

#### remove()

Removes all event listeners, observers, and references to the dropdown instance.

#### show()

Shows the toggleable content.

#### toggle()

Toggles the state of the toggleable content between shown or hidden.

#### update()

Updates toggleable child elements if elements are dynamically added or removed (multi-element variant)
