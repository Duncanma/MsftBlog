@import "../../styles/functions";
@import "../../variables";
@import "../../styles/mixins";
@import "mixins";

//
// Base styles
//

.alert {
  border: $alert-border-width solid $alert-border-color;
  border-radius: $alert-border-radius;
  min-height: 3.625rem;
  position: relative;
  display: flex;
  padding: $alert-padding-y $alert-padding-x;

  @include alert-variant($alert-bg-color);

  @include theme-inverse {
    @include alert-variant($alert-bg-color-inverse);
  }

  &.glyph-prepend::before {
    font-size: $alert-glyph-font-size;
    // Adjust glyph to center align with first line of body text
    margin-top: (($font-size-base * $line-height-base) - ($alert-glyph-font-size * $glyph-line-height)) / 2;

    @include ltr {
      padding-right: map-get($spacers, g);
    }
    @include rtl {
      padding-left: map-get($spacers, g);
    }
  }

  .glyph-prepend {
    // Adjust glyph to center align with first line of body text
    margin-top: (($font-size-base * $line-height-base) - ($alert-glyph-font-size * $glyph-line-height)) / 2;

    @include ltr {
      padding-right: map-get($spacers, g);
    }
    @include rtl {
      padding-left: map-get($spacers, g);
    }

    &::before {
      font-size: $alert-glyph-font-size;
    }
  }

  &.alert-full-bleed {
    border-radius: 0;
    display: flex;
    justify-content: center;

    .alert-content {
      max-width: $alert-max-width;
    }
  }

  .alert-content {
    @include media-breakpoint-up(sm) {
      max-width: 39rem;
    }
    @include media-breakpoint-up(md) {
      max-width: 40rem;
    }
    @include media-breakpoint-up(lg) {
      max-width: 48rem;
    }
    @include media-breakpoint-up(xl) {
      max-width: 59rem;
    }

    // make sure the last element never has additional margin
    > :last-child {
      // stylelint-disable-next-line declaration-no-important
      margin-bottom: 0 !important;
    }
  }

  // Adjust close link position
  .close {
    position: absolute;
    padding: $alert-padding-y * 0.5;
    color: inherit;
    top: $alert-padding-y * 0.75;

    @include ltr {
      right: $alert-padding-y * 0.75;
    }
    @include rtl {
      left: $alert-padding-y * 0.75;
    }
  }

  hr,
  .divider {
    margin: 0.75rem 0 0.5rem;
  }

}

// Dismissible alerts
//
// Expand the right padding and account for the close button's positioning.

.alert-dismissible {
  @include ltr {
    padding-right: ($close-font-size + $alert-padding-x * 2);
  }
  @include rtl {
    padding-left: ($close-font-size + $alert-padding-x * 2);
  }
}

// Alternate styles

// Generate contextual modifier classes for colorizing the alert.

@if $enable-full-bootstrap-support {
  @each $name, $hex in $theme-colors {
    .alert-#{$name} {
      @include alert-variant($hex);
    }
  }
}
