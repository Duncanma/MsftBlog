Tabs are a familiar user-interaction pattern, made up of the following interconnected parts:

- The tab is a control that, when activated, shows its corresponding tab panel while hiding other tab panels (only one in a group is active at a time)
- The tab panel is a container for content (only one in a group is shown at a time)
- The tab list is a group of tabs (only one tab in a tab list can be active at a time)
- The tab panel group is a group of tab panels (only one tab panel is shown at a time, and there is a fade-in animation when transitioning from one tab to another)
- The tab slider, which contains the tab list and manages the horizontal overflow when the viewport is too narrow to fit all the tabs in the tab list in one row, adds buttons on the left and right side to allow the user to horizontally scroll the tab list (except on devices where swipe-scrolling can be used instead)

Basic tab interactions are implemented by the `Tab` class. Horizontally scrolling tabs are implemented by the `TabSlider` class.

## Style

The essential high-level Tabs markup is as follows. This is simplified to communicate style and structure; additional options and required attributes related to accessibility and functionality are described in the Behavior section below.

```html
<!-- tab list -->
<div class="tab-group" role="tablist">
  <!-- tabs -->
  <a href="#tab1" role="tab">{tab-text}</a>
  <a href="#tab2" role="tab">{tab-text}</a>
</div>
<!-- tab panels -->
<div class="tab-panel-group">
  <div id="tab1" role="tabpanel">{tab-panel-content}</div>
  <div id="tab2" role="tabpanel">{tab-panel-content}</div>
</div>
```

### Image tabs

MWF also supports an auxiliary visual treatment of the tab controls as clickable images. Each tab control (`<a>`) must have class `.tab-image` and `.tab-image-{size}` plus an `aria-label`. [Additional details](#behavior) and required attributes for Image Tabs are described in the Behavior section below.

```html
<!-- tab list -->
<div class="tab-group justify-content-center" role="tablist" aria-label="explicit aria label describing tab list">
  <!-- tabs -->
  <a
    class="tab-image tab-image-{size}"
    href="#tab1"
    role="tab"
    aria-controls="tab1"
    aria-selected="false"
    tabindex="0"
    aria-label="{tab-label}"
  >
    {...}
  </a>
</div>
```

### Outline tabs

MWF supports an auxiliary visual treatment of the standard Tabs for greater design flexibility. When using Outline Tabs, an ancestor element must include the `tab-outline` class name.

```html
<div class="tab-outline">{...}</div>
```

### Underline tabs

MWF supports an auxiliary visual treatment of the standard Tabs for greater design flexibility. When using Underline Tabs, an ancestor element must include the `tab-underline` class name.

```html
<div class="tab-underline">{...}</div>
```

### Modifier classes

There are a few classes used to set styles for this component:

| Element           | Class            | Description                                                                                                                                                                                                               |
| ----------------- | ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Tab list ancestor | `tab-primary`    | Sets color scheme of tabs based on primary theme color (see [Themes](https://mwf.azurewebsites.net/catalog/theme/index.html) for more detail). There is no primary theme option for the Outline or Underline tab variant. |
| Tab list ancestor | `tab-outline`    | Sets CSS styles to match the outline Tabs variant                                                                                                                                                                         |
| Tab list ancestor | `tab-underline`  | Sets CSS styles to match the underline Tabs variant                                                                                                                                                                       |
| Tab list ancestor | `tab-horizontal` | Applies styles for a horizontal group of tabs (a vertical version has been deprecated and removed)                                                                                                                        |
| Tab arrow buttons | `tab-arrows-lg`  | Increases the tab arrow glyph size (recommended alongside Image Tab controls with taller aspect ratios for better visibility).                                                                                            |

### Utility classes

Several styling utilities are used throughout the markup of this component and its variants to implement visual language characteristic of MWF:

| Utility            | Example                         | Description                                       | Documentation                                                                                                                        |
| ------------------ | ------------------------------- | ------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------ |
| Text align         | `text-center`                   | Sets text alignment                               | [Text align utility docs](https://moray-prod.azurewebsites.net/components/detail/utilities-text--alignment.html)                     |
| Margin             | `my-0`                          | Sets margin                                       | [Margin utility docs](https://moray-prod.azurewebsites.net/components/detail/utilities-spacing--margin.html)                         |
| Padding            | `pb-5`                          | Sets padding                                      | [Padding utility docs](https://moray-prod.azurewebsites.net/components/detail/utilities-spacing--padding.html)                       |
| Grid               | `row`, `col-12`                 | Organizes elements into grid system               | [Grid docs](https://moray-prod.azurewebsites.net/components/detail/grid.html)                                                        |
| Screen reader only | `sr-only-focusable`             | Makes an element available to keyboard users only | [Screen reader utility docs](https://moray-prod.azurewebsites.net/components/detail/utilities-screenreaders--sr-only-focusable.html) |
| Border             | `border-width-2`                | Sets border styles                                | [Border utility docs](https://moray-prod.azurewebsites.net/components/detail/utilities-borders--width.html)                          |
| Position           | `position-absolute`, `bottom-0` | Sets position-related styles                      | [Position utility docs](https://moray-prod.azurewebsites.net/components/detail/utilities-position--offsets.html)                     |
| Justify content    | `justify-content-center`        | Sets alignment of flex layout items               | [Flex utility docs](https://moray-prod.azurewebsites.net/components/detail/utilities-flex--justify-content.html)                     |

### Supporting components

Tabs can make use of supporting components that provide important auxiliary functionality.

```html
<div class="col-12">
  <div class="tab-panel-group">
    {tab-panels}
    <!-- Button -->
    <a class="btn btn-link sr-only-focusable position-absolute bottom-0" data-focus="back-to-tabs" href="#tab3-tab">
      Back to tabs
    </a>
    <!-- Divider -->
    <div class="divider border-width-2 mt-5"></div>
  </div>
</div>
```

#### Button

```html
<a class="btn btn-link sr-only-focusable position-absolute bottom-0" data-focus="back-to-tabs" href="#tab3-tab">
  Back to tabs
</a>
```

The "Back to Tabs" link is a [button-styled link](https://mwf.azurewebsites.net/catalog/button/index.html) included in the sample code as an important **accessibility** affordance for keyboard users. It should be placed just after the tab panels as a child of the tab panel group, allowing keyboard users to easily return their focus to the TabSlider when they have finished reading a tab panel.

To ensure focus is returned directly to the active tab, the Tab class updates the `href` of the link accordingly.

#### Divider

```html
<div class="tab-panel-group">
  ...
  <!-- tab panel boundary -->
  <div class="divider border-width-2 mt-5"></div>
</div>
```

This [Divider](https://mwf.azurewebsites.net/catalog/divider/index.html) is placed after all tab-related elements to serve as a visual separation between the tab panel group and the following site content. **Accessibility note**: It is not an `<hr>` per se because the tab panel already semantically delimits the content, so using an `<hr>` can cause redundant narration in some screen readers.

If the tab component is the last content on a page or is followed by a clearly delimited footer, the Divider can be omitted. However, the "Back to Tabs" link relies on the space made by the margin of the Divider, that space must be added back with padding or margin elsewhere. In our example variant, padding is added to each tab panel.

#### Glyphs

[Glyphs](https://moray-prod.azurewebsites.net/components/detail/glyphs--glyphs.html) can be used decoratively in a standard tab. They can be included by adding the appropriate `glyph-prepend` classes to the tab element:

```html
<a class="glyph-prepend glyph-prepend-medium glyph-prepend-shopping-cart" href="#tab" role="tab">{tab-text}</a>
```

## Behavior

### Tabbing

The most basic function of a tab is to allow a user to switch between different tab panels. The Tab class that implements this functionality relies on a certain markup structure along with some required properties. It consists of two parts: the tab list, which houses the controls, and the tab panel group, which contains the content in a set of tab panels.

```html
<div class="tab-horizontal">
  <div class="tab-group" role="tablist" aria-label="Required here">{tabs}</div>
</div>
<div class="tab-panel-group">{tab-panels}</div>
```

The tab list groups tabs together.

```html
<div class="tab-group" role="tablist" aria-label="Required here">{tabs}</div>
```

The following properties are required:

| Property     | Value                            | Description                                                                                               |
| ------------ | -------------------------------- | --------------------------------------------------------------------------------------------------------- |
| `class`      | `tab-group`\|`list-group`\|`nav` | One is required for the Tab class to recognize this as a tab list and coordinate action of all child tabs |
| `role`       | `tablist`                        | Required for accessibility because it indicates to assistive tech that it is a list of tabs               |
| `aria-label` | Text describing the tab list     | Required for accessibility to describe in plain language what these tabs are about                        |

The following properties are optional on the tab list element to change functionality:

| Property                  | Value | Instance member   | Description                                                                                                                                                                                             |
| ------------------------- | ----- | ----------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `data-add-url-to-history` |       | `addUrlToHistory` | Boolean attribute to enable navigation between tabs to add an entry to the browser's session history stack. **Use with caution, changing default browser functionality could create usability issues.** |

#### Tab controls

For the JavaScript to work, all tabs must be `<a>` tags, which are children of the tab list:

```html
<div class="tab-group" role="tablist" aria-label="Required here">
  <a id="tab1-tab" href="#tab1" role="tab" data-mount="tab" aria-controls="tab1" aria-selected="true" tabindex="0">
    Tab 1
  </a>
  <a id="tab2-tab" href="#tab2" role="tab" data-mount="tab" aria-controls="tab1" aria-selected="false" tabindex="-1">
    Tab 2
  </a>
</div>
```

Also, the following properties are required:

| Property        | Value          | Description                                                                                                                                                                            |
| --------------- | -------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `id`            | `{tab-id}-tab` | {tab-id} needs to be the same as the `id` for the tab panel for targeting                                                                                                              |
| `href`          | `#{tab-id}`    | {tab-id} needs to be the same as the `id` for the tab panel for targeting                                                                                                              |
| `role`          | `tab`          | Required for accessibility because it indicates to assistive tech that it is a tab                                                                                                     |
| `data-mount`    | `tab`          | Tells the auto-initialization script to initialize an instance of the Tab class with this element as the base element                                                                  |
| `aria-controls` | `{tab-id}`     | Required for accessibility because it indicates to assistive tech that it controls the element with the `id` indicated (the tab panel)                                                 |
| `aria-selected` | Boolean        | Required for accessibility because it indicates to assistive tech that this option (tab) is selected (active); the active tab should have `true`, while the others should have `false` |
| `tabindex`      | `0` \| `-1`    | The active tab should have `0`, while the others should have `-1`                                                                                                                      |

#### Image Tab controls

Each tab control (`<a>`) uses all the properties of standard tab controls above and also must have class `.tab-image` and `.tab-image-{size}` plus an `aria-label`. Additionally, the following child markup is needed to achieve the effect per control.

> Note: when using image tab controls, do not use the parent `.tab-horizontal` class at the same time.

```html
<a
  class="tab-image tab-image-{size}"
  href="#tab1"
  role="tab"
  aria-controls="tab1"
  aria-selected="false"
  tabindex="0"
  aria-label="{tab-label}"
>
  <div class="tab-image-border">
    <picture>
      <source srcset="https://large.image.url" media="(min-width: 860px)" />
      <img src="https://small.image.url" class="img-fluid tab-image-img" alt="{image-description}" />
    </picture>
  </div>
  <span class="tab-image-label">{tab-label}</span>
</a>
```

The following properties are required _in addition_ to those for standard tabs above:

| Element   | Property     | Value                            | Description                                                         |
| --------- | ------------ | -------------------------------- | ------------------------------------------------------------------- |
| `<a>`     | `class`      | `tab-image` `tab-image-{size}`\* | Applies scoped styles for image tab alignment and effects.          |
| `<a>`     | `aria-label` | Same as label text               | Read by screen readers; prevents duplicate reading of label.        |
| `<div>`   | `class`      | `tab-image-border`               | Applies styles for image tab border and active/hover/focus effects. |
| `<img>`\* | `class`      | `img-fluid` `tab-image-img`      | Applies full-width styles and grayscaling for images.               |
| `<img>`   | `alt`        | Text describing the image        | Read by screen readers.                                             |
| `<span>`  | `class`      | `tab-image-label`                | Applies styles for text alignment and active/hover/focus effects.   |

\* Image tab controls can be rendered in five sizes for layout flexibility, each with different _minimum_ image size requirements. Images will be restricted via CSS _by width only_; the provided image ratio is irrelevant. The following table lists each size with its associated CSS class and recommended image width. The Tabs are responsive to screen size and will have the small width on smaller viewports and the large width on viewports at least `860px` wide.

| CSS class (`<a>`) | Small image (`<img src>`) | Large image `<source srcset>`) |
| ----------------- | ------------------------- | ------------------------------ |
| `tab-image-xs`    | 64px                      | N/A â€“ size unchanged           |
| `tab-image-sm`    | 64px                      | 128px                          |
| `tab-image-md`    | 128px                     | 160px                          |
| `tab-image-lg`    | 160px                     | 192px                          |
| `tab-image-xl`    | 192px                     | 400px                          |

### Tab panels

Finally, there are the tab panels. Each tab panel should be the child of a tab panel group wrapper, which is simply a div with the class `tab-panel-group`:

```html
<div class="tab-panel-group">{tab-panels}</div>
```

**Note**: The `tab-panel-group` class is an alias for the `tab-content` class documented in earlier versions.

Then, each tab panel is a `<div>` with the following required properties:

| Property          | Value            | Description                                                                                                                                                                                                                |
| ----------------- | ---------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `id`              | `{tab-id}`       | Must be the same `{tab-id}` used in the corresponding tab element                                                                                                                                                          |
| `class`           | `tab-panel fade` | Implements fade-in/fade-out animations via CSS transitions, and the tab panel will not successfully show without these classes (note that `tab-panel` is an alias for the `tab-pane` class documented in earlier versions) |
| `role`            | `tabpanel`       | Required for accessibility because it indicates to assistive tech that it is a tab panel                                                                                                                                   |
| `aria-labelledby` | `{tab-id}-tab`   | Must match `id` used in corresponding tab element; required for accessibility because it indicates to assistive tech that it is labelled by the element with the `id` indicated                                            |
| `tabindex`        | `0`              | Required for accessibility because it allows keyboard users to navigate from the tab list to the tab panel properly                                                                                                        |
| `hidden`          | Present or not   | If the tab panel is currently hidden, it should have the property `hidden`, and if it is shown, it should not have the property at all (note that `hidden="false"` is not sufficient)                                      |

Here is an example of a tab panel:

```html
<div id="tab1" class="tab-pane fade active show" role="tabpanel" aria-labelledby="tab1-tab" tabindex="0">
  {tab-panel-content}
</div>
```

#### Keyboard interactions

The tab component also implements the special keyboard interaction standard for tab lists. Per [W3C guidelines](https://www.w3.org/TR/wai-aria-practices-1.1/#keyboard-interaction-19), when a user tabs to the active tab, the user can move focus to other tabs using "left" and "right" arrow keys, and then activate tabs with the space or enter key. Tabbing away from the active tab moves focus to the active tab panel.

This functionality is not implemented by browsers or assistive tech but by the Tab class.

### Horizontally scrolling tabs

Almost inevitably, all the tabs in the tab list will be too wide to fit on a single line. By default, the browser will cause the tabs to wrap, but this can end up looking jumbled. Instead, a tab slider should be used to create a horizontally scrolling tab list.

By using the TabSlider class, instead of the default horizontal scrollbar, mouse users can scroll the tabs using arrow buttons that appear on either edge of the tab list, while keyboard users can still use the "left" and "right" arrow keys.

If the device is detected to be an actual phone with a touchscreen and swipe scrolling, not just a small viewport, the arrow buttons are hidden in favor of swipe scrolling so more of the tabs are visible.

The JavaScript that implements this functionality relies on a certain markup structure along with some required properties:

```html
<div data-mount="tab-slider" class="tab-horizontal">
  <div class="tab-overflow">
    <div class="tab-window">{tab-list}</div>
  </div>
  <div class="tab-arrows">{arrow-buttons}</div>
</div>
```

The elements wrapping the tab list cooperate to enable horizontal scrolling. The tab arrows themselves are positioned relative to the wrappers.

```html
<div data-mount="tab-slider" class="tab-horizontal">
  <div class="tab-overflow">
    <div class="tab-window">{tab-list}</div>
  </div>
  ...
</div>
```

Three `<div>`s must wrap the tab list element to both apply the CSS that allows horizontal scrolling and to anchor the JavaScript that implements the scrolling with buttons instead of a default scrollbar. This table summarizes the function of each wrapper's special class:

| Property     | Value            | Description                                                                                                          |
| ------------ | ---------------- | -------------------------------------------------------------------------------------------------------------------- |
| `data-mount` | `tab-slider`     | Tells auto-initialization script to create an instance of TabSlider                                                  |
| `class`      | `tab-horizontal` | Applies styles to the tab element appropriate to horizontal orientation                                              |
| `class`      | `tab-overflow`   | Applies overflow styles and indicates to the TabSlider instance that this is the element that needs to be scrolled   |
| `class`      | `tab-window`     | Indicates to TabSlider instance that this element needs to be kept at a width that accommodates all tabs on one line |

The arrow buttons that scroll the tab list must be placed as a child of the base TabSlider element and as a sibling of the `.tab-window` wrapper.

```html
<div data-mount="tab-slider" class="tab-horizontal">
  ...
  <div class="tab-arrows">
    <button class="arrow-prev" tabindex="-1" aria-hidden="true" data-width="40">
      <span class="sr-only">Previous</span>
    </button>
    <button class="arrow-next" tabindex="-1" aria-hidden="true" data-width="40">
      <span class="sr-only">Next</span>
    </button>
  </div>
</div>
```

These properties are required:

| Property      | Value                      | Description                                                                                                                                                       |
| ------------- | -------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `class`       | `tab-arrows`               | Anchors the TabSlider instance so it can find the buttons; the instance will also hide this element (`display: none`) when the viewport is too wide for scrolling |
| `class`       | `arrow-prev`, `arrow-next` | Adds the appropriate glyph and tells the TabSlider instance which button is which                                                                                 |
| `tabindex`    | `0`\|`-1`                  | Should initially be `-1` and is managed by the TabSlider instance based on whether it should be in the tab order given the scroll position                        |
| `aria-hidden` | `true`\|`false`            | Should initially be `true` and is managed by the TabSlider instance based on whether it should be narrated given the scroll position                              |
| `data-width`  | `Number`, width in pixels  | Tell the TabSlider instance how wide the button is so it can take that into account when scrolling                                                                |
| `class`       | `sr-only`                  | Makes the text available to screen readers only                                                                                                                   |

The following properties are required for each tab element so the TabSlider functions properly:

| Property | Value | Description                                                                                 |
| -------- | ----- | ------------------------------------------------------------------------------------------- |
| `role`   | `tab` | Lets the TabSlider instance find each tab so it can calculate snap points for its scrolling |

This is also required for accessibility to communicate to assistive tech that each tab element functions as a tab.

These properties are optional on the tab-slider element to change functionality:

| Property                        | Value | Instance member  | Description                                                                                                                                     |
| ------------------------------- | ----- | ---------------- | ----------------------------------------------------------------------------------------------------------------------------------------------- |
| `data-disable-scroll-into-view` |       | `scrollIntoView` | Boolean attribute to prevent scrolling the selected tab into view (default behavior). Use only when customizing the position of a selected tab. |

### Deep linking

The Tab component enables deep linking by location hash. Adding a tab panel or child of the tab panel's `id` to a url (ie, `www.example.com/#${id}`) will cause the page to be loaded with the target tab panel open and scrolled into view.

## JavaScript usage

### Tab class

The basic function of a tab is implemented by the Tab JavaScript class. Using the default setup, it will be available at `window.mwf.Tab`.

#### Initialization

Adding the `data-mount="tab"` attribute to each tab element will cause the auto-initialization script to create an instance of the Tab class for each tab element.

To initialize via JavaScript, an instance of the Tab class must be created for **each** tab element:

```js
document.querySelectorAll('[role="tab"]').forEach(tabNode => {
  new window.mwf.Tab({ el: tabNode });
});
```

> **Note**: If the tab elements are re-rendered via React, Angular, etc., the instance of the Tab class will still exist, but they will be tied to elements that no longer exist. The Tab instances must be re-instantiated and initialized after each render in this case.

##### Options

Options are passed to the constructor as an object with the following properties:

| Name              | Type      | Required | Default | Description                                                                                                                                     |
| ----------------- | --------- | -------- | ------- | ----------------------------------------------------------------------------------------------------------------------------------------------- |
| `el`              | `Node`    | yes      | `null`  | The tab element                                                                                                                                 |
| `addUrlToHistory` | `Boolean` | no       | `false` | Enable navigation between tabs to add an entry to the browser's session history stack.                                                          |
| `defaultTabIndex` | `Number`  | no       | `0`     | The index of the default active Tab within the tab list. If not provided, auto set to the first Tab in the tab list with class `active` or `0`. |

#### Events

This table summarizes custom events that can be fired by a Tab instance. Events that don't bubble must be listened for on the event target.

| Event name | Event target    | Bubbles | Description                                                                                                            |
| ---------- | --------------- | ------- | ---------------------------------------------------------------------------------------------------------------------- |
| `onHide`   | _instance_.`el` | No      | Dispatches when the tab is made inactive, as the tab panel starts its fade-out animation                               |
| `onHidden` | _instance_.`el` | No      | Dispatches as the tab panel finishes its fade-out animation                                                            |
| `onShow`   | _instance_.`el` | No      | Dispatches when the tab is made active, as the tab panel starts its fade-in animation                                  |
| `onShown`  | _instance_.`el` | No      | Dispatches as the tab panel finishes its fade-in animation                                                             |
| `onRemove` | _instance_.`el` | Yes     | Dispatches when the `.remove()` method is called on a Tab instance, removing event listeners and deleting the instance |
| `onUpdate` | _instance_.`el` | Yes     | Dispatches when the `.update()` method is called on a Tab instance                                                     |

#### Static methods

These functions can be found on the class itself. By default, it can be found at `window.mwf.Tab`.

##### getInstances()

Returns a list of all instances of Tab.

| Returns | Description                                                                                                                                              |
| ------- | -------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Array   | An array of all current instances (note that deleting the associated DOM nodes will not remove an instance of Tab; `remove()` must be called explicitly) |

#### Tab instance methods

These are functions that can be called from an instance of Tab.

##### show(e)

This function activates the tab, shows the corresponding tab panel, deactivates any sibling tabs, and hides their corresponding tab panels. The table below summarizes parameters:

| Name | Type  | Required | Default | Description                           |
| ---- | ----- | -------- | ------- | ------------------------------------- |
| `e`  | Event | no       | `null`  | The event that fired the show command |

##### remove()

Removes all event listeners, observers, and references to the instance. Will dispatch the custom event `onRemove` to the tab element.

##### update()

Updates the Tab instance. Will dispatch the custom event `onUpdate` to the tab element.

| Name                   | Type      | Required | Default | Description                                                                            |
| ---------------------- | --------- | -------- | ------- | -------------------------------------------------------------------------------------- |
| `opts`                 | `Object`  | no       | `{}`    | An object containing configuration options.                                            |
| `opts.addUrlToHistory` | `Boolean` | no       | `undefined` | Enable navigation between tabs to add an entry to the browser's session history stack. |

The option(s) need to be passed in as a config object like so:

```js
tab.update({
  addUrlToHistory: true
});
```

#### Instance properties

This table summarizes the members of the Tab class:

| Name             | Type          | Description                                                                                                               |
| ---------------- | ------------- | ------------------------------------------------------------------------------------------------------------------------- |
| `backToTabs`     | `Node`        | The "Back to Tabs" button for this set of tabs                                                                            |
| `el`             | `Node`        | The tab element (also the `target` for most custom events)                                                                |
| `events`         | `Array`       | List of objects describing event listeners; there should be two here, one for `click` events and one for `keydown` events |
| `isRTL`          | `Boolean`     | Whether the document is right-to-left (RTL)                                                                               |
| `listGroup`      | `Node`        | The tab list element                                                                                                      |
| `listNodeList`   | `NodeList`    | A `NodeList` of all the tab elements in the tab list                                                                      |
| `nodeListArray`  | `Array`       | A plain array of all the tab elements in the tab list                                                                     |
| `onRemove`       | `CustomEvent` | The event that gets fired when this instance is removed                                                                   |
| `tabContent`     | `Node`        | The tab panel group element that groups the tab panels                                                                    |
| `tabIndex`       | `Number`      | The index of this tab in the tab list (**not** related to the html property `tabindex`)                                   |
| `tabPanel`       | `Node`        | The tab panel element                                                                                                     |
| `targetSelector` | `String`      | A CSS selector that should point to the tab panel (used if the tab panel doesn't exist when the class is initialized)     |

### TabSlider class

The horizontal scrolling of tabs is implemented by the TabSlider JavaScript class. Using the default setup, it will be available at `window.mwf.TabSlider`.

#### Initialization

Adding a `data-mount="tab-slider"` attribute to the outermost wrapper will cause the auto-initialization script to create an instance of TabSlider for the tab list.

To initialize via JavaScript, create a new instance by passing in the reference to the outermost wrapper element using the `el` option.

```js
myTabSlider = new window.mwf.TabSlider({
  el: document.querySelector('.tab-horizontal')
});
```

##### Options

Options are passed to the constructor as an object with the following properties:

| Name               | Type       | Required | Description                                                             |
| ------------------ | ---------- | -------- | ----------------------------------------------------------------------- |
| `el`               | `Node`     | yes      | The tab list container element                                          |
| `onPrevArrowClick` | `Function` | no       | Function to override the "previous" button click handler                |
| `onNextArrowClick` | `Function` | no       | Function to override the "next" button click handler                    |
| `onFocusEvent`     | `Function` | no       | Function to override the tab focus event handler                        |
| `onScrollEvent`    | `Function` | no       | Function to override the scroll event handler                           |
| `onWindowResize`   | `Function` | no       | Function to override the window resize event handler                    |
| `scrollIntoView`   | `Boolean`  | no       | Whether to scroll the selected tab into view (if overflowing container) |

#### Events

The table below summarizes custom events that can be fired by a TabSlider instance. Events that don't bubble must be listened for on the event target.

| Event name | Event target    | Bubbles | Description                                                          |
| ---------- | --------------- | ------- | -------------------------------------------------------------------- |
| `onScroll` | _instance_.`el` | yes     | Dispatches when tab list scrolls                                     |
| `onRemove` | _instance_.`el` | yes     | Dispatches when the instance is removed via the `.remove()` function |
| `onUpdate` | _instance_.`el` | yes     | Dispatches when the `.update()` method is called on a Tab instance   |

#### Static methods

These functions can be found on the class itself. By default it can be found at `window.mwf.TabSlider`.

##### getInstances()

Returns a list of all instances of TabSlider.

| Returns | Description                                                                                                                                                    |
| ------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Array   | An array of all current instances (note that deleting the associated DOM nodes will not remove an instance of TabSlider; `remove()` must be called explicitly) |

#### Instance methods

##### onClickNextArrow()

Scrolls the tab slider forward to the "next" tab element that was not visible. Fires `onScroll` afterwards.

##### onClickPrevArrow()

Scrolls the tab slider back to the "previous" tab element that was not visible. Fires `onScroll` afterwards.

##### remove()

Removes all event listeners, observers, and references to the instance. Fires `onRemove` afterwards.

##### update()

Updates TabSlider instance. Fires `onUpdate` afterwards.

| Name                    | Type       | Required | Default | Description                                                             |
| ----------------------- | ---------- | -------- | ------- | ----------------------------------------------------------------------- |
| `opts`                  | `Object`   | no       | `{}`    | An object containing configuration options                              |
| `opts.onPrevArrowClick` | `Function` | no       | `undefined`  | Function to override the "previous" button click handler                |
| `opts.onNextArrowClick` | `Function` | no       | `undefined`  | Function to override the "next" button click handler                    |
| `opts.onFocusEvent`     | `Function` | no       | `undefined`  | Function to override the tab focus event handler                        |
| `opts.onScrollEvent`    | `Function` | no       | `undefined`  | Function to override the scroll event handler                           |
| `opts.onWindowResize`   | `Function` | no       | `undefined`  | Function to override the window resize event handler                    |
| `opts.scrollIntoView`   | `Boolean`  | no       | `undefined`  | Whether to scroll the selected tab into view (if overflowing container) |

An example of passing custom option(s) can be seen below:

```js
tabSlider.update({
  onPrevArrowClick: myPrevArrowClickHandler,
  onNextArrowClick: myNextArrowClickHandler,
  onWindowResize: myWindowResizeHandler,
  onScrollEvent: myScrollEventHandler,
  onFocusEvent: myFocusEventHandler,
  scrollIntoView: false
});
```

#### Instance members

This table summarizes the members of the TabSlider class:

| Name                       | Type          | Description                                                                                                                                                                         |
| -------------------------- | ------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `arrowDirection`           | `String`      | Direction of last arrow pressed, either `left` or `right`, defaults to `left`                                                                                                       |
| `arrowNext`                | `Node`        | "Next" arrow button (right in left-to-right pages)                                                                                                                                  |
| `arrowOffsetWidth`         | `Number`      | Width in pixels of how much to adjust for each arrow button                                                                                                                         |
| `arrowPrev`                | `Node`        | "Previous" arrow button (left in left-to-right pages)                                                                                                                               |
| `arrows`                   | `Node`        | The parent element of the arrow buttons                                                                                                                                             |
| `el`                       | `Node`        | The base element of the instance and the outermost wrapper                                                                                                                          |
| `events`                   | `Array`       | An array of objects describing the event listeners and handlers added by this instance                                                                                              |
| `isArrowClicked`           | `Boolean`     | Helps block race conditions by preventing further scrolling while scrolling is happening                                                                                            |
| `isRTL`                    | `Boolean`     | Whether the document is right-to-left (RTL)                                                                                                                                         |
| `isTabWindowWidthAdjusted` | `Boolean`     | Flag used during initialization to order code execution                                                                                                                             |
| `lastTabBounds`            | `DOMRect`     | Bounds of the last tab in `tabListItems` via `.getBoundingClientRect()`                                                                                                             |
| `onFocusEvent`             | `Function`    | Handler for when a tab is focused, typically by keyboard arrow keys                                                                                                                 |
| `onNextArrowClick`         | `Function`    | Handler for when the "next" arrow button is pressed                                                                                                                                 |
| `onPrevArrowClick`         | `Function`    | Handler for when the "previous" arrow button is pressed                                                                                                                             |
| `onRemove`                 | `CustomEvent` | The custom event that is fired when the instance is removed via the `.remove()` function                                                                                            |
| `onScroll`                 | `CustomEvent` | The custom event that is fired when the tab list is scrolled horizontally                                                                                                           |
| `onScrollEvent`            | `Function`    | Handler for when the tab list is scrolled horizontally                                                                                                                              |
| `onWindowResize`           | `Function`    | Handler for when the window is resized (by default checks whether arrow buttons should be visible)                                                                                  |
| `scrollElement`            | `Node`        | Wrapper element that needs to be scrolled, indicated by `tab-overflow` class                                                                                                        |
| `scrollTimeout`            | `Number`      | Helps with debouncing updates that occur by default when the tab list is scrolled                                                                                                   |
| `tabContentCentered`       | `Boolean`     | Tabs get left-aligned (`justify-content: start`) when the arrow buttons are shown; this flag indicates whether the TabList was initially center-aligned (`justify-content: center`) |
| `tabGroup`                 | `Node`        | The tab list element                                                                                                                                                                |
| `tabListItems`             | `NodeList`    | A `NodeList` array of the tab elements                                                                                                                                              |
| `tabListWidth`             | `Number`      | A computed value in pixels for how wide the tab list is                                                                                                                             |
| `tabListWidthBuffer`       | `Number`      | A computed value in pixels for how wide the tab list is but with extra space in some situations during initialization                                                               |
| `tabSlideTarget`           | `Node`        | An object representing the leftmost tab element during the current or most recent scroll                                                                                            |
| `tabWindow`                | `Node`        | The object that is kept wide enough to fit all the tabs on one line                                                                                                                 |
