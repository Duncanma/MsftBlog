@import "../../styles/functions";
@import "../../variables";
@import "../../styles/mixins";

.tab-image {
  display: block;
  text-decoration: none;
  color: $image-tab-text-color;
  font-weight: $font-weight-semibold;
  padding-top: $vfi-outline-width;

  @include theme-inverse {
    color: $image-tab-text-color-inverse;
  }

  &:first-child {
    @include ltr {
      margin-left: $vfi-outline-width;
    }

    @include rtl {
      margin-right: $vfi-outline-width;
    }
  }

  // margins are the same across sizes
  &:not(:last-child) {
    @include ltr {
      margin-right: $image-tab-margin;
    }

    @include rtl {
      margin-left: $image-tab-margin;
    }

    @media (min-width: map-get($grid-breakpoints, "md")) {
      @include ltr {
        margin-right: $image-tab-margin * 2;
      }

      @include rtl {
        margin-left: $image-tab-margin * 2;
      }
    }
  }

  // sizes
  &.tab-image-xs {
    width: $image-tab-width-xs;
  }

  &.tab-image-sm {
    width: $image-tab-width-xs;

    @media (min-width: map-get($grid-breakpoints, "md")) {
      width: $image-tab-width-sm;
    }
  }

  &.tab-image-md {
    width: $image-tab-width-sm;

    @media (min-width: map-get($grid-breakpoints, "md")) {
      width: $image-tab-width-md;
    }
  }

  &.tab-image-lg {
    width: $image-tab-width-md;

    @media (min-width: map-get($grid-breakpoints, "md")) {
      width: $image-tab-width-lg;
    }
  }

  &.tab-image-xl {
    width: $image-tab-width-lg;

    @media (min-width: map-get($grid-breakpoints, "md")) {
      width: $image-tab-width-xl;
    }
  }

  .tab-image-img {
    border-radius: $image-tab-border-radius / 2;
  }

  &:not(.active) .tab-image-img {
    filter: grayscale(100%);
  }

  .tab-image-border {
    border: $image-tab-border-width solid transparent;
    border-radius: $image-tab-border-radius;
    padding: $image-tab-border-width;
  }

  &.active .tab-image-border {
    border-color: $image-tab-border-color;

    @include theme-inverse {
      border-color: $image-tab-border-color-inverse;
    }
  }

  &[href]:focus {
    // stylelint-disable-next-line declaration-no-important
    outline: none !important; // shift custom outline to the img only
  }

  &:focus .tab-image-border {
    outline: $vfi-outline-width $vfi-outline-style $image-tab-text-color;

    @include theme-inverse {
      outline-color: $image-tab-text-color-inverse;
    }
  }

  .tab-image-label {
    display: block;
    padding-top: 0.5rem;
    text-align: center;
  }

  &:not(.active):not(:hover):not(:focus) .tab-image-label {
    opacity: 0;
  }

  &:focus:not(.active),
  &:hover:not(.active) {
    color: $image-tab-inactive-text-color;

    @include theme-inverse {
      color: $image-tab-inactive-text-color-inverse;
    }

    .tab-image-border {
      // same for light & dark themes
      border-color: $image-tab-inactive-border-color;
    }
  }
}
