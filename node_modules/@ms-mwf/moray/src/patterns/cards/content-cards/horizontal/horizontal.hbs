{{#ifCond cards.length '>=' 2}}<section>{{/ifCond}}
  {{~setVar 'count' (evaluate count '||' cards.length)~}}
  {{~setProp this 'grid' (evaluate grid '||' (object))~}}
  {{~#ifCond count '===' 1~}}
    {{~setProp ../grid 'row-cols' (array '1')~}}
  {{~/ifCond~}}
  {{~#ifCond count '===' 2~}}
    {{~setProp ../grid 'row-cols' (array '1' 'md-2')~}}
  {{~/ifCond~}}
  {{~#ifCond count '>=' 3~}}
    {{~setProp ../grid 'row-cols' (array '1' 'md-3')~}}
  {{~/ifCond~}}
  {{~#> '@card-layout--grid' this~}}
    {{~#*inline 'cards'~}}
      {{~#each cards~}}
        {{~#ifCond ../count '===' 2~}}
          {{~#unless @last~}}
            {{~setProp ../this 'col-classes' 'mb-4 mb-md-0'~}}
          {{~/unless~}}
          {{~#unless ../left.col-classes~}}
           {{setProp ../left 'col-classes' 'col-2'}}
          {{~/unless~}}
        {{~/ifCond~}}
        {{~#ifCond ../count '===' 3~}}
          {{~#unless @last~}}
            {{~setProp ../this 'col-classes' 'mb-4 mb-md-0'~}}
          {{~/unless~}}
          {{~#unless ../left.col-classes~}}
            {{~setProp ../left 'col-classes' 'col-2 col-md-3'~}}
          {{~/unless~}}
        {{~/ifCond~}}

        {{~setProp this 'attributes' (evaluate attributes '||' (object))~}}
        {{~setProp attributes 'data-mount' 'click-group'~}}

        <{{#if col-html-tag}}{{col-html-tag}}{{else}}div{{/if}} class="col {{col-classes}}">
          {{> '@card--horizontal' this}}
        </{{#if col-html-tag}}{{col-html-tag}}{{else}}div{{/if}}>
      {{/each}}
    {{/inline}}
  {{/'@card-layout--grid'}}
{{#ifCond cards.length '>=' 2}}</section>{{/ifCond}}
